网关可以通过遵循通常的 Spring server configuration 来监听 HTTPS 请求。下面的例子显示了如何做到这一点。

_Example 67. application.yml_



```plain
server:
  ssl:
    enabled: true
    key-alias: scg
    key-store-password: scg1234
    key-store: classpath:scg-keystore.p12
    key-store-type: PKCS12
```



你可以将网关路由到HTTP和HTTPS后端。如果你要路由到HTTPS后端，你可以通过以下配置将网关配置为信任所有下游的证书。

_Example 68. application.yml_



```plain
spring:
  cloud:
    gateway:
      httpclient:
        ssl:
          useInsecureTrustManager: true
```



使用不安全的 trust manager 不适合于生产。对于生产部署，你可以用一组已知的证书来配置网关，它可以通过以下配置来信任。

_Example 69. application.yml_



```plain
spring:
  cloud:
    gateway:
      httpclient:
        ssl:
          trustedX509Certificates:
          - cert1.pem
          - cert2.pem
```



如果 Spring Cloud Gateway 没有配置受信任的证书，就会使用默认的 trust store（你可以通过设置 javax.net.ssl.trustStore 系统属性来覆盖它）。

