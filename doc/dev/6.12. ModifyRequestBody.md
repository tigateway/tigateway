你可以使用 ModifyRequestBody 过滤器，在网关向下游发送请求体之前对其进行修改。

| 这个过滤器只能通过使用Java DSL来配置。 |
| --- |


下面显示了如何使用 GatewayFilter 修改请求体：



```plain
@Bean
public RouteLocator routes(RouteLocatorBuilder builder) {
    return builder.routes()
        .route("rewrite_request_obj", r -> r.host("*.rewriterequestobj.org")
            .filters(f -> f.prefixPath("/httpbin")
                .modifyRequestBody(String.class, Hello.class, MediaType.APPLICATION_JSON_VALUE,
                    (exchange, s) -> return Mono.just(new Hello(s.toUpperCase())))).uri(uri))
        .build();
}

static class Hello {
    String message;

    public Hello() { }

    public Hello(String message) {
        this.message = message;
    }

    public String getMessage() {
        return message;
    }

    public void setMessage(String message) {
        this.message = message;
    }
}
```



| 如果请求没有正文，RewriteFilter 将被传递为 null。应该返回 Mono.empty() 来指定请求中缺少的主体。 |
| --- |


