XForwarded Remote Addr 路由谓语工厂接受一个 sources 集合（最长度为 1），这些 sources 是 CIDR注解（IPv4 或 IPv6）字符串，如 192.168.0.1/16（其中 192.168.0.1 是一个 IP 地址，16 是子网掩码）。

这个路由谓词允许根据 X-Forwarded-For 的 HTTP Header 对请求进行过滤。

这可以与反向代理一起使用，如负载均衡器或web应用防火墙，只有当请求来自这些反向代理所使用的受信任的IP地址列表时，才应该被允许。

下面的例子配置了一个 XForwardedRemoteAddr 路由谓词。

_Example 13. application.yml_



```plain
spring:
  cloud:
    gateway:
      routes:
      - id: xforwarded_remoteaddr_route
        uri: https://example.org
        predicates:
        - XForwardedRemoteAddr=192.168.1.1/24
```



例如，如果 X-Forwarded-For Header 包含 192.168.1.10，则该路由匹配。

