如果 LocalResponseCache 的相关属性被启用（spring.cloud.gateway.filter.local-response-cache.enabled），它就会运行，并为所有符合以下条件的响应激活一个本地缓存。

+ 请求是一个无body的 GET。
+ 响应具有以下状态代码之一。HTTP 200 (OK), HTTP 206 (Partial Content), 或 HTTP 301 (Moved Permanently)。
+ HTTP Cache-Control 头允许缓存（这意味着它没有以下任何值。在请求中出现 no-store，在响应中出现 no-store或 private）。

它接受两个配置参数：

+ spring.cloud.gateway.filter.local-response-cache.size。设置该路由驱逐条目的最大缓存大小（单位：KB、MB 和 GB）。
+ spring.cloud.gateway.filter.local-response-cache.timeToLive。设置缓存条目过期的时间（用 s 表示秒、m 表示分钟、h 表示小时）。如果没有配置这些参数，但启用了全局过滤器，默认情况下，它为缓存的响应配置了5分钟的生存时间。

这个 filter 还实现了自动计算 HTTP Cache-Control 头中的 max-age 值。如果原始响应中存在 max-age，则该值会以 timeToLive 配置参数中设置的秒数重写。在随后的调用中，这个值会以响应过期前的剩余秒数重新计算。

| 如果你的项目创建了自定义的 CacheManager Bean，它需要用 @Primary 来标记，或者用 @Qualifier 来注入。 |
| --- |


