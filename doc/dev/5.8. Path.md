Path 路由谓词工厂需要两个参数：一个Spring PathMatcher patterns 的list和一个可选的flag matchTrailingSlash（默认为 true）。下面的例子配置了一个path路由谓词。

_Example 8. application.yml_

```plain
spring:
  cloud:
    gateway:
      routes:
      - id: path_route
        uri: https://example.org
        predicates:
        - Path=/red/{segment},/blue/{segment}
```



如果请求路径是 /red/1 或 /red/1/ 或 /red/blue 或 /blue/green，则该路由匹配。

如果 matchTrailingSlash 被设置为 false，那么请求路径 /red/1/ 将不会被匹配。

这个谓词提取URI模板变量（比如前面例子中定义的 segment）作为name和value的映射，并把它放在 ServerWebExchange.getAttributes() 中，KEY值定义在 ServerWebExchangeUtils.URI_TEMPLATE_VARIABLES_ATTRIBUTE。然后这些值就可以被 [GatewayFilter工厂](https://springdoc.cn/spring-cloud-gateway/#gateway-route-filters)使用了。

有一个实用的方法（称为 get），可以使访问这些变量变得更容易。下面的例子显示了如何使用 get 方法。

```plain
Map<String, String> uriVariables = ServerWebExchangeUtils.getUriTemplateVariables(exchange);

String segment = uriVariables.get("segment");
```



  


