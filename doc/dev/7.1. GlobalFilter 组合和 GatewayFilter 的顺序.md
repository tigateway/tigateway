当一个请求与路由匹配时，filter web handler将 GlobalFilter 的所有实例和 GatewayFilter 的所有路由特定实例添加到一个过滤链中。这个组合的过滤链由 org.springframework.core.Ordered 接口进行排序，你可以通过实现 getOrder()方法来设置这个接口。

由于 Spring Cloud Gateway 区分了过滤器逻辑执行的 “pre” 和 “post” 阶段（见[如何工作](https://springdoc.cn/spring-cloud-gateway/#gateway-how-it-works)），优先级最高的过滤器在 “pre” 阶段是第一个，在 “post” 阶段是最后一个。

下面的列表配置了一个过滤器链。

_Example 64. ExampleConfiguration.java_



```plain
@Bean
public GlobalFilter customFilter() {
    return new CustomGlobalFilter();
}

public class CustomGlobalFilter implements GlobalFilter, Ordered {

    @Override
    public Mono<Void> filter(ServerWebExchange exchange, GatewayFilterChain chain) {
        log.info("custom global filter");
        return chain.filter(exchange);
    }

    @Override
    public int getOrder() {
        return -1;
    }
}
```



  


